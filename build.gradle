group 'com.rfksystems'
version '1.0-SNAPSHOT'

final projectGradleVersion = '4.5.1'

allprojects {
    apply plugin: 'java'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }

    compileJava {
        // specify different directory for generated sources
        options.compilerArgs << '-s'
        options.compilerArgs << "$projectDir/build/generated/java"

        doFirst {
            // make sure that directory exists
            file(new File(projectDir, '/build/generated/java')).mkdirs()
        }
    }

    clean.doLast {
        // clean-up directory when necessary
        file(new File(projectDir, '/build/generated')).deleteDir()
    }

    // register generated sourceset
    sourceSets {
        generated {
            java {
                srcDir "$projectDir/build/generated/java"
            }
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {
}

task wrapper(type: Wrapper) {
    gradleVersion = projectGradleVersion
}